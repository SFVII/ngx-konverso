{"version":3,"sources":["../../../node_modules/tslib/tslib.es6.js","ng://konverso/lib/konverso.service.ts","ng://konverso/Sample/BotMessageSample.ts","ng://konverso/Sample/DotLoader.ts","ng://konverso/lib/translate.service.ts","ng://konverso/lib/pipe/safe-html.pipe.ts","ng://konverso/lib/first-visit/first-visit.component.html","ng://konverso/lib/first-visit/first-visit.component.ts","ng://konverso/lib/desktop-full-screen/desktop-full-screen.component.html","ng://konverso/lib/desktop-full-screen/desktop-full-screen.component.ts","ng://konverso/lib/konverso.component.ts","ng://konverso/lib/konverso.component.html","ng://konverso/lib/konverso.module.ts"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","v","op","TypeError","pop","push","__values","o","m","KonversoService","config","http","authentication","EventEmitter","firstVisit","AssistantMode","readyState","token","BehaviorSubject","_token","asObservable","lang","customData","emulationTrigger","buildHeaders","initInstance","send","query","replace","RegExp","_this","header","preparedData","buildQuery","options","headers","post","endpoint","Date","getTime","subscribe","data","Error","sendTriggerEmulation","catch","err","console","log","response","_a","input","bearer","HttpHeaders","Authorization","_auth","auth","defaultAssets","assets","ColorSet","user","locale","_b","InputPlaceHolder","PlaceHolder","InputNumberPlaceHolder","NumberPlaceHolder","CustomWelcome","BotInitMessage","Welcome","mustache.render","_c","_d","_e","_g","_f","FirstUsage","_j","_h","firstUsageStory","_k","_l","history_1","userId","guid","custom","getValue","trim","isSending","random","Math","floor","toString","substring","core","ɵɵinject","HttpClient","factory","ɵfac","BotMessageSample","timestamp","text","infoURL","context","suggestions","DotLoaderTemplate","color","TranslateService","fr","GO","SEND","SELECT","en","translate","l","word","providedIn","SafeHtmlPipe","sanitizer","transform","bypassSecurityTrustHtml","ɵɵdirectiveInject","platformBrowser","DomSanitizer","pure","i0.ɵɵelementStart","i0.ɵɵlistener","i0.ɵɵelementEnd","i0.ɵɵstyleMap","FirstVisitComponent","service","ready","position","current","go","r","ngOnInit","clear","setInterval","clearInterval","goTo","pos","start","emit","selectors","inputs","outputs","decls","vars","consts","template","rf","ctx","i0.ɵɵelementContainerStart","i0.ɵɵelement","i0.ɵɵtemplate","i0.ɵɵtext","i0.ɵɵelementContainerEnd","i0.ɵɵadvance","i0.ɵɵproperty","i0.ɵɵtextInterpolate","ctx_r84","i0.ɵɵtextInterpolate1","i0.ɵɵelementContainer","ɵɵrestoreView","_r123","ctx_r124","ɵɵnextContext","userInput","_send","$event","userWriting","ctx_r120","inputLimit","currentPlaceHolder","_r127","ctx_r128","ctx_r121","_r158","ctx_r159","ctx_r134","DesktopFullScreenComponent","IsMobile","readySend","sendBotCommand","sendEvent","sendBtn","select","changed","botListening","showWrapper","showText","inputType","newMessage","messageCurrent","msgArray","botListeningTimer","anim_done","reloaded","ngOnChanges","document","querySelectorAll","elems","index","length_1","temp","style","opacity","getElementById","LastBotAnswer","includes","innerHTML","querySelector","string","split","join","launchLoop","t2_1","setTimeout","timer","looper","shift","length_2","rep","className","key","code","endOfTopic","LastUserInput","message","userData","date","toLocaleTimeString","navigator","language","hour","minute","scroll","scrollHeight","byPassUserInput","botdata","buttons","Array","from","classList","add","remove","displayData","disableUserInput","showInput","features","ɵɵNgOnChangesFeature","i0.ɵɵclassMap","KonversoComponent","_ready","sended","error","toISOString","triggerKbotResponse","medias","required_actions","History","userAgent","match","isMobile","_isMobile","colorSet","customWelcome","Primary","NaN","parseInt","Android","BlackBerry","iOS","Opera","Windows","any","KonversoModule","parentModule","forRoot","ngModule","providers","provide","useValue","imports","FormsModule","HttpClientModule","CommonModule","declarations","exports"],"mappings":"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","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import {EventEmitter, Inject, Injectable} from '@angular/core';\nimport {ColorSet, DefaultAssets, KonversoInterface, KonversoQuery, KonversoUser} from '../interface/KonversoInterface';\nimport {HttpClient, HttpHeaders} from '@angular/common/http';\nimport {BehaviorSubject} from 'rxjs';\nimport * as mustache from 'mustache';\n\n@Injectable()\nexport class KonversoService {\n    public authentication: EventEmitter<KonversoUser> = new EventEmitter<KonversoUser>();\n    public assets: DefaultAssets;\n    public firstVisit = false;\n    public firstUsageStory: string[];\n    public ColorSet: ColorSet;\n    public PlaceHolder: string[];\n    public NumberPlaceHolder: string[];\n    public AssistantMode = false;\n    public Welcome: string;\n    public readyState: boolean = false;\n    public locale: string;\n    private token: BehaviorSubject<string> = new BehaviorSubject<string>(null);\n    // tslint:disable-next-line:variable-name\n    private _token = this.token.asObservable();\n    private user: KonversoUser;\n    private header: HttpHeaders;\n    private endpoint: string;\n    public _auth: boolean;\n    public lang = new BehaviorSubject('');\n    public customData: BehaviorSubject<{ [key: string]: any }> = new BehaviorSubject<{ [key: string]: any }>(null);\n    public emulationTrigger: BehaviorSubject<any> = new BehaviorSubject(null);\n\n    constructor(@Inject('__NgxKonverso__') config: KonversoInterface, private http: HttpClient) {\n        this.buildHeaders();\n        this.initInstance(config);\n    }\n\n    /**\n     * Send Query To backend server and get a response\n     * @param query\n     */\n    public async send(query: string): Promise<string | any> {\n        return new Promise((resolve, reject) => {\n            if (query && query.replace(new RegExp(' ', 'g'), '')) {\n                if (this.header) {\n                    const preparedData = this.buildQuery(query);\n                    const options: any = {\n                        headers: this.header\n                    };\n                    this.http.post(this.endpoint + '?t=' + new Date().getTime(), preparedData, options)\n                        .subscribe((data: any) => {\n                            resolve(data);\n                        });\n                } else {\n                    reject(new Error('Header is not set, please provide a token though user setting or though module configuration'));\n                }\n            } else {\n                reject(new Error('Current input is empty, please try again'));\n            }\n        });\n    }\n\n    /**\n     * Emulate user entry Query To backend server and get a response\n     * @param query\n     */\n    public async sendTriggerEmulation(query: string): Promise<void> {\n        const response = await this.send(query).catch((err: any) => {\n            console.log('error trigger emulation', err);\n        });\n        if (response) {\n            this.emulationTrigger.next({input : query, ...response})\n        }\n    }\n\n    /**\n     * @private\n     * Generate Header for backend call\n     */\n    private buildHeaders() {\n        this._token.subscribe((token: string) => {\n            const bearer: string = 'Bearer ' + token;\n            this.header = new HttpHeaders({\n                //'Content-Type': 'application/json',\n                // 'Access-Control-Allow-Origin': window.location.origin,\n                'Authorization': bearer\n            });\n        });\n    }\n\n    /**\n     * @param config\n     * @private\n     * Initialize Data for User Instance\n     */\n    private initInstance(config: KonversoInterface) {\n        this._auth = !!config.auth;\n        if (config.endpoint) {\n            this.endpoint = config.endpoint;\n            if (config.AssistantMode) {\n                this.AssistantMode = config.AssistantMode;\n            }\n\n            if (config.defaultAssets) {\n                this.assets = config.defaultAssets;\n                if (config.defaultAssets.ColorSet) {\n                    this.ColorSet = config.defaultAssets.ColorSet;\n                }\n            }\n            if (config.auth) {\n                this.authentication.subscribe((user: KonversoUser) => {\n                    if (!user.lang && config.lang) {\n                        user.lang = config.lang;\n                    }\n                    this.locale = user?.lang;\n                    this.lang.next(this.locale);\n                    if (config.InputPlaceHolder && config.InputPlaceHolder[this.locale]) {\n                        this.PlaceHolder = config.InputPlaceHolder[this.locale];\n                    }\n                    if (config.InputNumberPlaceHolder && config.InputNumberPlaceHolder[this.locale]) {\n                        this.NumberPlaceHolder = config.InputNumberPlaceHolder[this.locale];\n                    }\n                    if (config.CustomWelcome && config.BotInitMessage.Welcome && config.BotInitMessage.Welcome[this.locale]) {\n                        this.Welcome = mustache.render(config.BotInitMessage.Welcome[this.locale], user);\n                    }\n                    if (user?.token) {\n                        this.token.next(user?.token);\n                    }\n                    if (user?.firstVisit) {\n                        this.firstVisit = true;\n                        delete user.firstVisit;\n                        if (config?.BotInitMessage?.FirstUsage &&\n                            this.locale &&\n                            config?.BotInitMessage?.FirstUsage[this.locale]) {\n                            this.firstUsageStory = [];\n                            for (const history of config.BotInitMessage.FirstUsage[this.locale]) {\n                                this.firstUsageStory.push(mustache.render(history, user));\n                            }\n                        }\n                    }\n                    this.user = user;\n                    this.readyState = true;\n                });\n            } else if (config.lang) {\n                this.locale = config.lang;\n                this.lang.next(this.locale);\n                if (config.InputPlaceHolder && config.InputPlaceHolder[this.locale]) {\n                    this.PlaceHolder = config.InputPlaceHolder[this.locale];\n                }\n                if (config.InputNumberPlaceHolder && config.InputNumberPlaceHolder[this.locale]) {\n                    this.NumberPlaceHolder = config.InputNumberPlaceHolder[this.locale];\n                }\n                if (config.CustomWelcome && config.BotInitMessage.Welcome && config.BotInitMessage.Welcome[this.locale]) {\n                    this.Welcome = config.BotInitMessage.Welcome[this.locale];\n                }\n                this.user = {\n                    userId: this.guid(),\n                    lang: config.lang\n                };\n                this.readyState = true;\n            }\n            if (config.token) {\n                this.token.next(config.token);\n            }\n        } else {\n            return new Error('Please provide endpoint');\n        }\n    }\n\n    /**\n     * @param query\n     * @private\n     * prepare set data to push to backend server\n     */\n    private buildQuery(query: string): KonversoQuery {\n        // @ts-ignore\n        const custom: any = this.customData.getValue();\n        return {\n            ...custom,\n            ...this.user,\n            query: query.replace(/\\s+/g, ' ').trim(),\n            isSending: true\n        };\n    }\n\n    /**\n     * @private\n     * Generate Random uniq Id for Konverso Instance\n     */\n    private guid() {\n        let random = () => {\n            return Math.floor((1 + Math.random()) * 0x10000)\n                .toString(16)\n                .substring(1);\n        };\n        return random() + random() + '-' + random() + '-' + random() + '-' + random() + '-' + random() + random() + random();\n    }\n}\n","/***********************************************************\n **  @project ngx-konverso                              **\n **  @file BotMessageSample                                         **\n **  @author Brice Daupiard <brice.daupiard@smartiiz.com>  **\n **  @Date 02/04/2021                                         **\n ***********************************************************/\nimport {OpenChatBotResponse} from '../interface/KonversoInterface';\n\n\nexport const BotMessageSample : OpenChatBotResponse = {\n    query: null,\n    userId: null,\n    timestamp: 1617369777.976196,\n    text: null,\n    infoURL: '',\n    context: [],\n    suggestions: []\n};\n","/***********************************************************\n **  @project ngx-konverso                              **\n **  @file DotLoader                                         **\n **  @author Brice Daupiard <brice.daupiard@smartiiz.com>  **\n **  @Date 07/04/2021                                         **\n ***********************************************************/\n\n\nexport const DotLoaderTemplate = (color: string) => `<div class=\"loading-dots\">\n<div class=\"loading-dots--dot\" style=\"background-color: ${color}\"></div>\n  <div class=\"loading-dots--dot\" style=\"background-color: ${color}\"></div>\n  <div class=\"loading-dots--dot\" style=\"background-color: ${color}\"></div>\n  </div>`;\n\n","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TranslateService {\n  private lang = {\n      'fr': {\n          'GO': `C'est parti`,\n          'SEND': 'Envoyer',\n          'SELECT': 'Vous devez sélectionner une réponse',\n      },\n      'en': {\n          'GO': `Let's go`,\n          'SEND': 'Send',\n          'SELECT': 'You must select an answer',\n      }\n  }\n\n  constructor() { }\n\n  public translate(l, word) {\n    return this.lang[l][word];\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport {DomSanitizer} from '@angular/platform-browser';\n\n@Pipe({\n  name: 'safeHtml'\n})\nexport class SafeHtmlPipe implements PipeTransform {\n  constructor(protected sanitizer: DomSanitizer) {}\n  public transform(value: any): any {\n    return this.sanitizer.bypassSecurityTrustHtml(value);\n  }\n}\n","<ng-container>\n  <div class=\"bot-logo-init-wrapper\">\n    <!--<img [src]=\"assets.FullSizeLogo\">-->\n    <div class=\"m-carl-notification\">\n      <div class=\"m-carl-notification-cue m-cue\">\n        <div class=\"a-cue-icon\" id=\"bot-icon\"></div>\n      </div>\n    </div>\n  </div>\n  <div class=\"bot-init-text\" [innerHTML]=\"current | safeHtml\"></div>\n  <div class=\"bot-init-bullet-step\">\n      <span *ngFor=\"let elem of firstUsageStory ; let pos = index\" class=\"bot-init-dot\"\n            [style]=\"pos === position ? {\n              backgroundColor : assets?.ColorSet?.Primary,\n              borderColor :assets?.ColorSet?.Primary\n              }:{\n                backgroundColor :assets?.ColorSet?.Secondary,\n                borderColor :assets?.ColorSet?.Primary\n                }\" (click)=\"goTo(pos)\">\n      </span>\n  </div>\n  <div class=\"bot-init-button-wrapper\">\n    <button mat-button class=\"bot-button button-lg\" [style]=\"{\n      backgroundColor : '#171F26',\n      color : assets?.ColorSet?.Secondary\n    }\" (click)=\"start()\">{{ go }}</button>\n  </div>\n\n</ng-container>\n","import {Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\nimport {DefaultAssets} from '../../interface/KonversoInterface';\nimport { KonversoService } from '../konverso.service';\nimport { TranslateService } from '../translate.service';\n\n@Component({\n  selector: 'bot-first-visit',\n  templateUrl: './first-visit.component.html',\n  styleUrls: ['./first-visit.component.scss']\n})\nexport class FirstVisitComponent implements OnInit {\n  @Input() firstUsageStory: string[];\n  @Input() assets: DefaultAssets;\n  @Output() ready: EventEmitter<boolean> = new EventEmitter<boolean>();\n  public position = 0;\n  public current = '';\n  public go = '';\n\n  constructor(translate: TranslateService, private service: KonversoService) {\n    service.lang.subscribe((r) => {\n      if (service.locale) {\n        this.go = translate.translate(service.locale, 'GO');\n      }\n    });\n  }\n\n  ngOnInit(): void {\n    this.current = this.firstUsageStory[this.position];\n    const clear = setInterval(() => {\n      if (this.position < (this.firstUsageStory.length - 1)) {\n        this.current = this.firstUsageStory[++this.position];\n      } else {\n        clearInterval(clear);\n      }\n    }, 5000);\n  }\n\n  goTo(pos: number) {\n    this.position = pos;\n    this.current = this.firstUsageStory[this.position];\n  }\n\n  start(): void {\n    //console.log('OOOKKKK')\n    this.ready.emit(true);\n  }\n\n}\n","<!--<div class=\"bot-container\"  [class]=\"IsMobile ? 'bot-mobile' : ''\" [style]=\"{'background-color' : '#100652 0% 0% no-repeat padding-box;'}\"-->\n\n  <!--<canvas class=\"orb-canvas\"></canvas>\n  <div class=\"overlay\">\n    <div class=\"overlay__inner\">\n    </div>\n  </div>-->\n  <div class=\"bot-container\"  [class]=\"IsMobile ? 'bot-mobile' : ''\" [style]=\"{'background-color' : '#100652 0% 0% no-repeat padding-box;'}\"\n     xmlns=\"http://www.w3.org/1999/html\">\n  <div class=\"bot-view\">\n    <ng-container *ngIf=\"firstVisit && firstUsageStory\">\n      <bot-first-visit [firstUsageStory]=\"firstUsageStory\" [assets]=\"assets\"\n                       (ready)=\"emit($event)\"></bot-first-visit>\n    </ng-container>\n    <ng-container *ngIf=\"!firstVisit || !firstUsageStory\">\n      <button (click)=\"byPassUserInput('exit', 0)\" id=\"exit-btn\" style=\"display: none;\"></button>\n\n      <div class=\"bot-assistant-wrapper\" *ngIf=\"AssistantMode\">\n        <!--<div *ngIf=\"!botListening\" class=\"bot-logo\" id=\"botlogo\">\n          <img [src]=\"assets.FullSizeLogo\">\n        </div>-->\n        <div [ngStyle]=\"{'height': '40%'}\" class=\"bot-logo bot-listening\">\n          <div [ngStyle]=\"{'transform': 'translateY(-10vh)'}\" class=\"m-carl-notification\">\n            <div class=\"m-carl-notification-cue m-cue\">\n              <div *ngIf=\"botListening\" class=\"a-cue-voice\" id=\"bot\">\n                <div class=\"a-cue-voice-el voice1\"></div>\n                <div class=\"a-cue-voice-el voice2\"></div>\n                <div class=\"a-cue-voice-el voice3\"></div>\n                <div class=\"a-cue-voice-el voice4\"></div>\n                <div class=\"a-cue-voice-el\"></div>\n              </div>\n              <div class=\"a-cue-icon\" id=\"bot-icon\"></div>\n            </div>\n          </div>\n        </div>\n        <div class=\"bot-discussion-wrapper\" style=\"min-height: 60%; max-height: 60%; height: 60%; /*max-height: 120px;*/\">\n          <ng-container *ngIf=\"LastUserInput\">\n            <div class=\"user-input\" *ngIf=\"LastUserInput && LastUserInput?.message != ''\">\n              <div class=\"data\" [style]=\"{\n                     color : assets?.ColorSet?.Secondary\n                    }\">\n                {{LastUserInput.message}}\n              </div>\n              <span class=\"time\">{{LastUserInput.date}}</span>\n            </div>\n          </ng-container>\n          <ng-container *ngIf=\"LastBotAnswer\">\n            <div class=\"bot-answer\">\n              <ng-container>\n\n              </ng-container>\n              <ng-container *ngIf=\"LastBotAnswer.text\">\n                <!--<span *ngIf=\"!LastBotAnswer.text.includes('loading-dots')\" id=\"text\"></span><br>\n                <span *ngIf=\"changed && LastBotAnswer.text.includes('loading-dots')\" class=\"fade\" [innerHTML]=\"LastBotAnswer.text | safeHtml\"></span><br>\n                -->\n                <span *ngIf=\"!LastBotAnswer.text.includes('loading-dots') && changed && showText\" class=\"fade\" [innerHTML]=\"LastBotAnswer.text | safeHtml\"></span>\n                <span *ngIf=\"LastBotAnswer.text.includes('loading-dots')\" class=\"fade\" id=\"loading-creation\"></span>\n                <!--<br>-->\n              </ng-container>\n              <ng-container *ngIf=\"LastBotAnswer.medias && LastBotAnswer.medias.length\n                   && LastBotAnswer.medias[0].required_actions\n                   && LastBotAnswer.medias[0].required_actions.length > 0\n                   && !LastBotAnswer.text.includes('loading-dots')\">\n                <ng-container *ngFor=\"let suggest of LastBotAnswer.medias[0].required_actions; let i = index\">\n                  <ng-container *ngIf=\"suggest.format === 'button'\"  >\n                    <button *ngIf=\"suggest.value?.title == 'Terminer' && changed || suggest.value?.title == 'Quit' && changed\" [style]=\"{\n                      borderColor : assets?.ColorSet?.Primary,\n                      color : assets?.ColorSet?.Primary\n             }\"  class=\"bot-button bot-button-left show-btn\" (click)=\"byPassUserInput(suggest?.value?.onClick, i)\"\n                             [innerHTML]=\"suggest.label|| suggest.value?.displayedMessage || suggest.value?.title \">\n                    </button>\n                    <button *ngIf=\"suggest.value?.title == 'Nouvelle Demande' && changed || suggest.value?.title == 'New Request' && changed\" [style]=\"{\n                      borderColor : assets?.ColorSet?.Primary,\n                      color : assets?.ColorSet?.Primary\n             }\"  class=\"bot-button bot-button-right show-btn\" (click)=\"byPassUserInput(suggest?.value?.onClick, i)\"\n                             [innerHTML]=\"suggest.label|| suggest.value?.displayedMessage || suggest.value?.title \">\n                    </button>\n                    <button *ngIf=\"suggest.value?.title && suggest.value?.title != 'Terminer' && suggest.value?.title != 'Quit' && suggest.value?.title != 'Nouvelle Demande' && suggest.value?.title != 'New Request' && changed\"\n                    [style]=\"{\n                     borderColor : assets?.ColorSet?.Primary,\n                     color : assets?.ColorSet?.Primary\n            }\"  class=\"bot-button bot-button-grey show-btn\" (click)=\"byPassUserInput(suggest?.value?.onClick, i)\"\n                            [innerHTML]=\"suggest.label|| suggest.value?.displayedMessage || suggest.value?.title \">\n                    </button>\n                  </ng-container>\n                </ng-container>\n              </ng-container>\n\n            </div>\n          </ng-container>\n          <div class=\"bot-input-wrapper\">\n            <div class=\"bot-input\" id=\"bot-input-div\" *ngIf=\"!disableUserInput && showInput\">\n              <ng-container *ngIf=\"inputType === 'number'\">\n                <input [type]=\"inputType\" [(ngModel)]=\"userInput\" (keyup.enter)=\"userInput && _send()\" (keyup)=\"userWriting($event)\" min=\"2\" [max]=\"inputLimit\"\n                       [placeholder]=\"currentPlaceHolder\">\n              </ng-container>\n              <ng-container *ngIf=\"inputType === 'text'\">\n                <input [type]=\"inputType\" [(ngModel)]=\"userInput\" (keyup.enter)=\"userInput && _send()\" (keyup)=\"userWriting($event)\" [maxlength]=\"inputLimit\"\n                       [placeholder]=\"currentPlaceHolder\">\n              </ng-container>\n\n              <button class=\"bot-button\" [style]=\"{\n                     backgroundColor : assets?.ColorSet?.Primary,\n                     color : assets?.ColorSet?.Secondary\n            }\" (click)=\"_send()\" [disabled]=\"!userInput\">{{ sendBtn }}\n              </button>\n            </div>\n            <div class=\"bot-input-disable\" *ngIf=\"disableUserInput\">\n              <i>{{ select }}</i>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"bot-chat-wrapper\" *ngIf=\"!AssistantMode\">\n        {{AssistantMode}}\n        <div class=\"bot-discussion-wrapper\" #scrollMe [scrollTop]=\"scrollMe.scrollTo(0, 9999999)\">\n          <div class=\"bot-chat\">\n\n            <ng-container *ngFor=\"let entry of displayData\">\n              <ng-container *ngIf=\"entry.date\">\n                <div class=\"user-input\">\n                  <div class=\"data\" [style]=\"{\n                     backgroundColor : assets?.ColorSet?.Primary,\n                     color : assets?.ColorSet?.Secondary\n                    }\">\n                    {{entry.message}}\n                  </div>\n                  <span class=\"time\">{{entry.date}}</span>\n                </div>\n              </ng-container>\n              <ng-container *ngIf=\"!entry.date\">\n                <div class=\"bot-answer\">\n                  <ng-container *ngIf=\"entry.text\">\n                    <span *ngIf=\"changed\" class=\"fade\" [innerHTML]=\"entry.text | safeHtml\"></span>\n                    <!--<br>-->\n                  </ng-container>\n                  <ng-container *ngIf=\"entry.medias && entry.medias.length\n                   && entry.medias[0].required_actions\n                   && entry.medias[0].required_actions.length\">\n                    <ng-container *ngFor=\"let suggest of entry.medias[0].required_actions\">\n                      <ng-container *ngIf=\"suggest.format === 'button'\">\n                        <button *ngIf=\"changed\" [style]=\"{\n                     borderColor : assets?.ColorSet?.Primary,\n                     color : assets?.ColorSet?.Primary\n            }\" class=\"bot-button fade\" (click)=\"byPassUserInput(suggest?.value?.onClick)\"\n                                [innerHTML]=\"suggest.label|| suggest.value?.displayedMessage || suggest.value?.title \"></button>\n                      </ng-container>\n                    </ng-container>\n                  </ng-container>\n\n                </div>\n              </ng-container>\n            </ng-container>\n          </div>\n        </div>\n        <div class=\"bot-input-wrapper\">\n          <div class=\"bot-input\" *ngIf=\"!disableUserInput && showInput\">\n            <input type=\"text\" [(ngModel)]=\"userInput\" (keyup.enter)=\"userInput && _send()\" (keyup)=\"userWriting($event)\" maxlength=\"200\"\n                   [placeholder]=\"currentPlaceHolder\">\n            <button *ngIf=\"changed\" class=\"bot-button\" [style]=\"{\n                     backgroundColor : assets?.ColorSet?.Primary,\n                     color : assets?.ColorSet?.Secondary\n            }\" (click)=\"_send()\" [disabled]=\"!userInput\">{{ sendBtn }}\n            </button>\n          </div>\n          <div class=\"bot-input-disable\" *ngIf=\"disableUserInput\">\n            <i>{{ select }}</i>\n          </div>\n        </div>\n        <div class=\"bot-logo\">\n          <img [src]=\"assets.FullSizeLogo\">\n        </div>\n      </div>\n    </ng-container>\n\n  </div>\n</div>\n","import {Component, EventEmitter, Input, OnChanges, OnInit, Output} from '@angular/core';\nimport {DefaultAssets, OpenChatBotResponse, UserInput} from '../../interface/KonversoInterface';\nimport {KonversoService} from '../konverso.service';\nimport {TranslateService} from '../translate.service';\n//import * as run from 'projects/konverso/assets/animatedback.js';\n//import {KawaseBlurFilter} from \"../../filters/kawase-blur/src/KawaseBlurFilter\";\ndeclare var PIXI: any;\nconst defaultInputType = 'text';\nconst defaultInputLimit = 300;\n\n@Component({\n    selector: 'bot-full-screen',\n    templateUrl: './desktop-full-screen.component.html',\n    styleUrls: ['./desktop-full-screen.component.css']\n})\nexport class DesktopFullScreenComponent implements OnChanges, OnInit {\n    @Input() AssistantMode: boolean = false;\n    @Input() assets: DefaultAssets;\n    @Input() firstVisit: boolean = false;\n    @Input() firstUsageStory: string[];\n    @Input() displayData: (UserInput | OpenChatBotResponse)[];\n    @Input() disableUserInput: boolean;\n    @Input() LastUserInput: UserInput;\n    @Input() LastBotAnswer: OpenChatBotResponse;\n    @Input() PlaceHolder: string[];\n    @Input() IsMobile: boolean = false;\n    @Input() showInput: boolean;\n    @Input() NumberPlaceHolder: string[];\n\n    @Output() readySend: EventEmitter<boolean> = new EventEmitter<boolean>(false);\n    @Output() send: EventEmitter<UserInput> = new EventEmitter<UserInput>(null);\n    @Output() sendBotCommand: EventEmitter<string> = new EventEmitter<string>(null);\n    @Output() sendEvent: EventEmitter<string> = new EventEmitter<string>(null);\n    public userInput: string;\n    public currentPlaceHolder: string = '';\n    public sendBtn = '';\n    public select = '';\n    public changed = false;\n    public botListening = false;\n    public showWrapper = false;\n    public showText = false;\n    public inputType: string = defaultInputType;\n    public inputLimit: number = defaultInputLimit;\n    private newMessage = false;\n    private messageCurrent = '';\n    private msgArray = [];\n    private botListeningTimer = 0;\n    private anim_done = false;\n    private reloaded = false;\n    private timer;\n\n    constructor(translate: TranslateService, private service: KonversoService) {\n        service.lang.subscribe((r) => {\n            if (service.locale) {\n                this.sendBtn = translate.translate(service.locale, 'SEND');\n                this.select = translate.translate(service.locale, 'SELECT');\n            }\n        });\n    }\n\n    ngOnChanges() {\n        let t = setInterval(() => {\n            if (document.querySelectorAll('.bot-answer')) {\n                let elems = document.querySelectorAll('.bot-answer');\n                if (elems.length > 0) {\n                    let index = 0, length = elems.length;\n                    let rep = true;\n                    for (; index < length; index++) {\n                        let temp = elems[index] as HTMLElement;\n                        if (temp.style.opacity == '0') {\n                            temp.style.opacity = '1';\n                        }\n                    }\n                    this.anim_done = rep;\n                    if (this.anim_done) {\n                        clearInterval(t);\n                    }\n                }\n            }\n        }, 100);\n\n        this.changed = false;\n\n        if (document.getElementById('text') && !this.LastBotAnswer?.text.includes('loading-dots')) {\n            document.getElementById('text').innerHTML = '';\n        }\n\n        console.log('-------> enter',  document.querySelector('.bot-answer number'))\n        if (document.querySelector('.bot-answer number')) {\n            this.inputType = 'number';\n            this.inputLimit = 999;\n            this.currentPlaceHolder = this.NumberPlaceHolder[Math.floor(Math.random() * this.NumberPlaceHolder.length)];\n        } else {\n            this.currentPlaceHolder = this.PlaceHolder[Math.floor(Math.random() * this.PlaceHolder.length)];\n            this.inputType = defaultInputType;\n            this.inputLimit = defaultInputLimit;\n        }\n\n        console.log('TYPE %s MAX %d',this.inputType,  this.inputLimit, this.currentPlaceHolder)\n        //console.log(this.LastBotAnswer);\n\n        if (!this.anim_done) {\n            let t2 = setInterval(() => {\n                if (this.LastBotAnswer && !this.LastBotAnswer?.text.includes('loading-dots') && this.anim_done) {\n                    clearInterval(t2);\n                    const string = this.LastBotAnswer?.text\n                        .split('<br/>').join(` `)\n                        .split('&eacute;').join('é')\n                        .split('&egrave;').join('è')\n                        .replace(/<[^>]*>?/gm, '')\n                        .split('&nbsp;').join('');\n\n                    this.msgArray = string.split('');\n                    if (this.messageCurrent !== string) {\n                        this.newMessage = true;\n                        this.messageCurrent = string;\n                        this.launchLoop();\n                    }\n                    //this.looper(array, timer);\n                }\n            }, 100);\n        } else {\n            const string = this.LastBotAnswer?.text\n                .split('<br/>').join(` `)\n                .split('&eacute;').join('é')\n                .split('&egrave;').join('è')\n                .replace(/<[^>]*>?/gm, '')\n                .split('&nbsp;').join('');\n\n            this.msgArray = string.split('');\n            if (this.messageCurrent !== string && string !== '') {\n                this.newMessage = true;\n                this.messageCurrent = string;\n                this.launchLoop();\n            }\n        }\n\n        setTimeout(() => {\n            this.changed = true;\n        }, 100);\n    }\n\n    launchLoop() {\n        this.timer = setInterval(() => {\n            if (this.msgArray.length == 0) {\n                clearInterval(this.timer);\n            }\n            if (this.newMessage) {\n                if (document.getElementById('text')) {\n                    document.getElementById('text').innerHTML = '';\n                }\n\n                this.newMessage = false;\n                //this.msgArray = this.messageCurrent.split(\"\");\n                clearInterval(this.timer);\n                this.launchLoop();\n            }\n            this.looper();\n        }, 60);\n    }\n\n    looper() {\n        if (this.msgArray.length > 0 && !this.reloaded) {\n            if (document.getElementById('text')) {\n                document.getElementById('text').innerHTML += this.msgArray.shift();\n            }\n        }/*else {\n        clearTimeout(timer);\n      }*/\n        /*timer = setTimeout(() => {\n          this.looper(array, timer);\n        }, 30);*/\n    }\n\n    ngOnInit(): void {\n        this.inputType = defaultInputType;\n        this.inputLimit = defaultInputLimit;\n        if (this.PlaceHolder) {\n            this.currentPlaceHolder = this.PlaceHolder[Math.floor(Math.random() * this.PlaceHolder.length)];\n            setInterval(() => {\n                this.currentPlaceHolder = this.PlaceHolder[Math.floor(Math.random() * this.PlaceHolder.length)];\n            }, 3000);\n        }\n\n        setTimeout(() => {\n            this.showWrapper = true;\n        }, 2000);\n\n        setTimeout(() => {\n            this.showText = true;\n        }, 2500);\n\n        let t = setInterval(() => {\n            if (document.querySelectorAll('.bot-answer')) {\n                let elems = document.querySelectorAll('.bot-answer');\n                if (elems.length > 0) {\n                    let index = 0, length = elems.length;\n                    let rep = true;\n                    for (; index < length; index++) {\n                        let temp = elems[index] as HTMLElement;\n                        if (temp.style.opacity == '0') {\n                            rep = false;\n                        }\n                    }\n                    this.anim_done = rep;\n                    if (this.anim_done) {\n                        clearInterval(t);\n                    }\n                }\n            }\n        }, 100);\n\n        //run.run();\n\n        setInterval(() => {\n            if (this.botListeningTimer > 0) {\n                this.botListeningTimer -= 1;\n\n                if (this.botListeningTimer > 0) {\n                    document.getElementById('bot').className = 'a-cue-voice speaking';\n                    document.getElementById('bot-icon').className = 'a-cue-icon speakingicon';\n                } else {\n                    document.getElementById('bot').className = 'a-cue-voice';\n                    document.getElementById('bot-icon').className = 'a-cue-icon';\n                }\n\n                this.botListening = this.botListeningTimer > 0;\n            }\n        }, 500);\n    }\n\n    userWriting(key: any) {\n        if (key.code === 'Enter') {\n            this.botListening = false;\n            this.botListeningTimer = 0;\n        } else if (key.code === 'Backspace') {\n\n        } else {\n            this.botListening = true;\n            if (this.botListeningTimer == 0) {\n                this.botListeningTimer += 2;\n            } else if (this.botListeningTimer < 5) {\n                this.botListeningTimer += 1;\n            }\n        }\n    }\n\n    public emit($event) {\n        this.firstVisit = false;\n        this.readySend.emit(true);\n    }\n\n    public _send() {\n        if (this.LastBotAnswer?.endOfTopic && this.LastUserInput) {\n            this.LastUserInput.message = '';\n        }\n\n        this.botListening = false;\n        const userData: UserInput = {\n            message: this.userInput,\n            date: new Date().toLocaleTimeString(navigator.language, {\n                hour: '2-digit',\n                minute: '2-digit'\n            })\n        };\n        this.send.emit(userData);\n        this.userInput = null;\n    }\n\n    async scroll(scrollHeight: number) {\n        return new Promise<number>((resolve) => {\n            setTimeout(() => {\n                resolve(0);\n            }, 300);\n        });\n\n    }\n\n    byPassUserInput(botdata: string, i?: number) {\n        /*const buttons: NodeListOf<HTMLElement> = document.querySelectorAll('.show-btn');\n        for (let btn of Array.from(buttons)) {\n          btn.classList.add('hidden-btn');\n        }*/\n        const buttons: NodeListOf<HTMLElement> = document.querySelectorAll('.bot-answer');\n        for (let btn of Array.from(buttons)) {\n            btn.classList.add('hidden-btn');\n        }\n        this.sendBotCommand.emit(botdata);\n        setTimeout(() => {\n            const buttons: NodeListOf<HTMLElement> = document.querySelectorAll('.bot-answer');\n            for (let btn of Array.from(buttons)) {\n                btn.classList.remove('hidden-btn');\n            }\n        }, 1000);\n    }\n}\n","import {Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\nimport {KonversoService} from './konverso.service';\nimport {ColorSet, DefaultAssets, KonversoAnswer, OpenChatBotResponse, UserInput} from '../interface/KonversoInterface';\nimport {BotMessageSample} from '../Sample/BotMessageSample';\nimport {DotLoaderTemplate} from '../Sample/DotLoader';\n\n// @ts-ignore\n@Component({\n    selector: 'ngx-konverso',\n    templateUrl: 'konverso.component.html',\n    styleUrls: ['../../assets/main.scss']\n})\nexport class KonversoComponent implements OnInit {\n    public _ready: EventEmitter<boolean> = new EventEmitter<boolean>();\n    @Output() ready: EventEmitter<boolean> = new EventEmitter<boolean>();\n    @Output() sended: EventEmitter<boolean> = new EventEmitter<boolean>();\n    @Input() showInput = true;\n    public query: string;\n    public isMobile: boolean;\n    public assets: DefaultAssets;\n    public firstVisit: boolean;\n    public firstUsageStory: string[];\n    public AssistantMode = false;\n    public colorSet: ColorSet;\n    public History: (UserInput | OpenChatBotResponse)[];\n    public disableUserInput = false;\n    public LastUserInput: UserInput;\n    public LastBotAnswer: OpenChatBotResponse;\n    public PlaceHolder: string[];\n    public NumberPlaceHolder : string[];\n    public Welcome: string;\n\n    constructor(private service: KonversoService) {\n        if (service._auth) {\n            this.service.authentication.subscribe(() => {\n                this.ngOnInit();\n            })\n        }\n        this.service.emulationTrigger.subscribe((response: any) => {\n            console.log(response);\n            if (response) {\n                if (!this.LastUserInput) {\n                    this.LastUserInput = {\n                        message: '',\n                        date: '',\n                        error: null\n                    }\n                }\n                this.LastUserInput.message += ' ' + response.input;\n                this.LastUserInput.date = new Date().toISOString();\n                this.triggerKbotResponse(response);\n            }\n        })\n    }\n\n    private triggerKbotResponse(response: any): void {\n        if (response && response.response) {\n            if (response.response.medias && response.response.medias[0] && response.response.medias[0].required_actions &&\n                response.response.medias[0].required_actions.length) {\n                this.disableUserInput = true;\n            } else {\n                this.disableUserInput = false;\n            }\n            this.LastBotAnswer = response.response;\n            this.History.push(response.response);\n        }\n    }\n\n    ngOnInit() {\n        console.log('user agent', navigator.userAgent, navigator.userAgent.match(/iPhone|iPad|iPod/i))\n        this.isMobile = this._isMobile();\n        this.assets = this.service.assets;\n        this.firstVisit = this.service.firstVisit;\n        this.firstUsageStory = this.service.firstUsageStory;\n        this.AssistantMode = this.service.AssistantMode;\n        this.PlaceHolder = this.service.PlaceHolder;\n        this.NumberPlaceHolder = this.service.NumberPlaceHolder;\n        this.Welcome = this.service.Welcome;\n        this.sendBotCommand('exit', false).catch((err: any) => console.log('fail reset session'));\n        this.History = [];\n        if (this.service.ColorSet) {\n            this.colorSet = this.service.ColorSet;\n        }\n        this._ready.subscribe((ready: boolean) => {\n            if (ready) {\n                this.firstVisit = false;\n                this.service.firstVisit = false;\n                this.ready.emit(ready);\n            }\n        });\n        if (this.Welcome) {\n            const customWelcome: OpenChatBotResponse = BotMessageSample;\n            customWelcome.text = this.Welcome;\n            this.LastBotAnswer = customWelcome;\n            this.History.push(customWelcome);\n        }\n    }\n\n    async send($event: UserInput) {\n        if ($event.message === 'exit') {\n            this.sendBotCommand('exit', false).catch((err: any) => console.log('fail reset session'));\n            return false;\n        }\n        this.sended.emit(true);\n        this.LastBotAnswer.text = '<br>' + DotLoaderTemplate(this.service.ColorSet.Primary);\n        if (parseInt($event.message) == NaN) {\n            this.History.push($event);\n        }\n\n        console.log(parseInt($event.message));\n        if (this.AssistantMode) {\n            if (this.LastUserInput) {\n                if (parseInt($event.message) == NaN) {\n                    this.LastUserInput.message += ' ' + $event.message;\n                    this.LastUserInput.date = $event.date;\n                }\n            } else {\n                this.LastUserInput = $event;\n            }\n        } else {\n            this.LastUserInput = $event;\n        }\n\n        const index: number = this.History.length - 1;\n        const response: KonversoAnswer = await this.service.send($event.message).catch((err: string) => {\n            console.log('We got an error ', err);\n            // @ts-ignore\n            this.History[index].error = true;\n        });\n        this.triggerKbotResponse(response);\n    }\n\n    async sendBotCommand($event: string, push: boolean = true) {\n        this.LastBotAnswer.text = '<br>' + DotLoaderTemplate(this.service.ColorSet.Primary);\n        if ($event === 'yes_response' || $event === 'no_response' || $event == 'exit') {\n            this.LastUserInput = null;\n        }\n        const response: KonversoAnswer = await this.service.send($event).catch((err: string) => {\n            console.log('We got an error ', err);\n        });\n        if (response.response.medias && response.response.medias[0] && response.response.medias[0].required_actions &&\n            response.response.medias[0].required_actions.length) {\n            this.disableUserInput = true;\n        } else {\n            this.disableUserInput = false;\n        }\n        if (response && response.response && push) {\n            this.LastBotAnswer = response.response;\n            this.History.push(response.response);\n        } else if (response && response.response && !push) {\n            this.LastUserInput = null;\n            this.LastBotAnswer = response.response;\n            this.History.push(response.response);\n        } else {\n            this.LastUserInput = null;\n        }\n    }\n\n    private _isMobile(): boolean {\n\n        const isMobile = {\n            Android: (): boolean => {\n                return !!navigator.userAgent.match(/Android/i);\n            },\n            BlackBerry: (): boolean => {\n                return !!navigator.userAgent.match(/BlackBerry/i);\n            },\n            iOS: (): boolean => {\n                return !!navigator.userAgent.match(/iPhone|iPad|iPod/i);\n            },\n            Opera: (): boolean => {\n                return !!navigator.userAgent.match(/Opera Mini/i);\n            },\n            Windows: (): boolean => {\n                return !!navigator.userAgent.match(/IEMobile/i) || !!navigator.userAgent.match(/WPDesktop/i);\n            },\n            any: (): boolean => {\n                return !!(isMobile.Android() || isMobile.BlackBerry() || isMobile.iOS() || isMobile.Opera() || isMobile.Windows());\n            }\n        };\n        return isMobile.any();\n    }\n\n\n}\n","<bot-full-screen [class]=\"isMobile ? 'bot-mobile' : ''\"\n                 [assets]=\"assets\"\n                 [firstVisit]=\"firstVisit\"\n                 [firstUsageStory]=\"firstUsageStory\"\n                 (send)=\"send($event)\"\n                 (sendBotCommand)=\"sendBotCommand($event)\"\n                 [displayData]=\"History\"\n                 [disableUserInput]=\"disableUserInput\"\n                 [LastBotAnswer]=\"LastBotAnswer\"\n                 [LastUserInput]=\"LastUserInput\"\n                 [AssistantMode]=\"AssistantMode\"\n                 [PlaceHolder]=\"PlaceHolder\"\n                 [NumberPlaceHolder]=\"NumberPlaceHolder\"\n                 [IsMobile]=\"isMobile\"\n                 (readySend)=\"_ready.emit($event)\"\n                 [showInput]=\"showInput\"\n></bot-full-screen>\n\n\n","import {ModuleWithProviders, NgModule, Optional, SkipSelf} from '@angular/core';\nimport {KonversoComponent} from './konverso.component';\nimport {KonversoInterface} from '../interface/KonversoInterface';\nimport {KonversoService} from './konverso.service';\nimport {FormsModule} from '@angular/forms';\nimport {HttpClientModule} from '@angular/common/http';\nimport {DesktopFullScreenComponent} from './desktop-full-screen/desktop-full-screen.component';\nimport {CommonModule} from '@angular/common';\nimport { FirstVisitComponent } from './first-visit/first-visit.component';\nimport { SafeHtmlPipe } from './pipe/safe-html.pipe';\n\n// @ts-ignore\n@NgModule({\n  declarations: [KonversoComponent, DesktopFullScreenComponent, FirstVisitComponent, SafeHtmlPipe],\n  imports: [\n    FormsModule,\n    HttpClientModule,\n    CommonModule,\n  ],\n  providers : [KonversoService],\n  exports: [KonversoComponent]\n})\nexport class KonversoModule {\n  constructor(@Optional() @SkipSelf() parentModule?: KonversoModule) {\n    if (parentModule) {\n      throw new Error(\n        'KonversoModule is already loaded. Import it in the AppModule only');\n    }\n  }\n\n  public static forRoot(config: KonversoInterface): ModuleWithProviders<KonversoModule> {\n    return {\n      ngModule: KonversoModule,\n      providers: [\n        {provide: '__NgxKonverso__', useValue: config},\n        KonversoService\n      ]\n    };\n  }\n}\n"]}